<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>PermitVista • Official Permit Certificate</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<style>
  @page { size: A4; margin: 28mm 20mm 28mm; }
  body { font-family: "Inter", system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; color: #1f2937; }
  .frame {
    border: 10px solid #a3b18a; padding: 18mm; position: relative;
    background:
      linear-gradient(45deg, #f7f7f7 25%, transparent 25%),
      linear-gradient(-45deg, #f7f7f7 25%, transparent 25%),
      linear-gradient(45deg, transparent 75%, #f7f7f7 75%),
      linear-gradient(-45deg, transparent 75%, #f7f7f7 75%);
    background-size: 12px 12px; background-position: 0 0, 0 6px, 6px -6px, -6px 0px;
  }
  .center { text-align: center; }
  .muted { color: #6b7280; }
  .title { font-family: "Playfair Display", Georgia, "Times New Roman", serif; font-size: 52px; margin: 6px 0; }
  .subtitle { font-size: 16px; letter-spacing: 2px; font-weight: 600; color: #374151; }
  .section { margin: 18px 0 12px; font-weight: 700; color: #374151; font-size: 12px; letter-spacing: 1px; }
  .hr { height: 1px; background: #e5e7eb; margin: 16px 0 8px; }
  .grid { display: grid; grid-template-columns: 1fr 1fr; gap: 12px 18px; }
  .k { font-size: 12px; color: #6b7280; }
  .v { font-weight: 600; }
  .big { font-family: "Playfair Display", Georgia, "Times New Roman", serif; font-size: 28px; color: #166534; }
  .footer { display: grid; grid-template-columns: 1fr 1fr; gap: 24px; margin-top: 26px; align-items: end; }
  .sigline { height: 1px; background: #9ca3af; margin: 6px 0; }
  .badge { display:inline-block; font-size: 11px; padding: 2px 8px; border-radius: 999px; border:1px solid #d1d5db; color:#374151;}
  .box { border:1px solid #e5e7eb; border-radius: 10px; padding: 12px 14px; background:#fafaf9;}
  .logo { max-height: 64px; }
</style>
</head>
<body>
  <div class="frame">
    <!-- Header -->
    <div class="center">
      <!-- Logo (inlined base64 by the script) -->
      <img class="logo" src="data:image/png;base64,{{ logo_base64 }}" alt="PermitVista" />
      <div class="title">Certificate</div>
      <div class="subtitle">OF PERMIT</div>
      <div class="muted" style="margin-top:8px;">
        Permit Number:
        <span class="v">#{{ permit_number }}</span>
        &nbsp;&nbsp;|&nbsp;&nbsp;
        Status: <span class="badge">{{ status }}</span>
      </div>
    </div>

    <div class="hr"></div>

    <!-- Holder / Project -->
    <div class="center" style="margin: 10px 0 20px;">
      <div class="muted">This document is issued to</div>
      <div class="big">{{ owner_or_applicant }}</div>
      <div class="muted" style="margin-top:6px;">for the approved work</div>
      <div class="v" style="font-size:18px; margin-top:4px;">“{{ work_description }}”</div>
    </div>

    <!-- Details -->
    <div class="section">PERMIT DETAILS</div>
    <div class="grid">
      <div>
        <div class="k">Project Address</div>
        <div class="v">{{ address }}</div>
      </div>
      <div>
        <div class="k">Neighborhood</div>
        <div class="v">{{ neighborhood }}</div>
      </div>
      <div>
        <div class="k">Application Type</div>
        <div class="v">{{ application_type }}</div>
      </div>
      <div>
        <div class="k">Permit Class / Type</div>
        <div class="v">{{ permit_class }}</div>
      </div>
      <div>
        <div class="k">Processed Date</div>
        <div class="v">{{ processed_date }}</div>
      </div>
      <div>
        <div class="k">Issued Date</div>
        <div class="v">{{ issued_date }}</div>
      </div>
    </div>

    <!-- Money / IDs -->
    <div class="section">FINANCIALS & IDENTIFIERS</div>
    <div class="grid">
      <div class="box">
        <div class="k">Estimated Cost</div>
        <div class="v">${{ estimated_cost }}</div>
      </div>
      <div class="box">
        <div class="k">Associated IDs</div>
        <div class="v">{{ associated_ids }}</div>
      </div>
    </div>

    <!-- Terms -->
    <div class="section">VALIDITY & CONDITIONS</div>
    <div class="box">
      <div class="k">This permit authorizes the work described herein, subject to applicable codes and ordinances. This certificate must be available at the job site upon request by the authority having jurisdiction.</div>
    </div>

    <!-- Footer / signatures -->
    <div class="footer">
      <div>
        <div class="k">Authorized Signatory</div>
        <div class="sigline"></div>
        <div class="muted">PermitVista</div>
      </div>
      <div>
        <div class="k">Date</div>
        <div class="sigline"></div>
        <div class="muted">{{ generated_on }}</div>
      </div>
    </div>
  </div>
</body>
</html>